//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\//\\//\\//
//=============================================================================================\\
\\=============================================================================================//
//|============================RESERVASI MEMPHIS VILLA========================================|\\
\\|===========================================================================================|//																   
//|===========================================================================================|\\
\\|	       Tujuan Aplikasi Boking Villa ini di buat untuk  memudahkan dalam Pemesanan     |//
//|        Villa yang mencangkup pengecekan tipe kamar, dan detail harga dari setiap          |\\
\\|        Tipe kamar dan juga memberi bukti pembayaran yang sah kepada para pemesan          |//
//|===========================================================================================|\\
\\|===========================================================================================|//
//|===========================================================================================|\\
\\|===========================================================================================|//
//=============================================================================================\\												
//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\\//\//\\//\\//


//|===========================================================================================|//
//|====================================+=Library=+============================================|//														   
//|===========================================================================================|//
	
#include "nivision.h"
#include <formatio.h>
#include "combobox.h"
#include <ansi_c.h>
#include <cvirte.h>		
#include <userint.h>
#include "toolbox.h"
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "Panel Utama.h"
#include "Panel Menu.h"
#include "Panel Data Kamar.h"
#include "Panel Reservasi.h"
#include "Panel Pembayaran.h"
	

//|============================================================================================|//
//|=======================================Constants============================================|//
//|============================================================================================|//
//|=========================================Types==============================================|//
//|============================================================================================|//
//|==================================Static global variables===================================|//
	
static int panelHandle = 0, panelHandle_2= 0, panelHandle_3 = 0, panelHandle_4 = 0, panelHandle_5 = 0;
void InputComboValues (int panel, int control);

int j=1;
int k=1;
int m=1;
int n=1;
	  

//|============================================================================================|//
//|=======================================Static functions=====================================|//
//|============================================================================================|//
//|========================================Global variables====================================|//
//|============================================================================================|//
//|=========================================Global functions===================================|//
//|============================================================================================|//

/// HIFN The main entry-point function \\\

int main (int argc, char *argv[])
{
	if (InitCVIRTE (0, argv, 0) == 0)
		return -1;	/* out of memory */
	if ((panelHandle = LoadPanel (0, "Panel Utama.uir", PANEL)) < 0)
		return -1;
	if ((panelHandle_2 = LoadPanel (0, "Panel Menu.uir", PANEL_2)) < 0)
		return -1;
	if ((panelHandle_3 = LoadPanel (0, "Panel Data Kamar.uir", PANEL_3)) < 0)
		return -1;
	if ((panelHandle_4 = LoadPanel (0, "Panel Reservasi.uir", PANEL_4)) < 0)
		return -1;
	if ((panelHandle_5 = LoadPanel (0, "Panel Pembayaran.uir", PANEL_5)) < 0)
		return -1;
	
	DisplayPanel (panelHandle);
	//FUNGSI UNTUK MEMBUAT COMBO//
	Combo_NewComboBox (panelHandle_4, PANEL_4_COMBO);
	InputComboValues (panelHandle_4, PANEL_4_COMBO);
	Combo_NewComboBox (panelHandle_3, PANEL_3_COMBO);
	InputComboValues (panelHandle_3, PANEL_3_COMBO);
	
	RunUserInterface ();
	
	Combo_DiscardComboBox (panelHandle_4, PANEL_4_COMBO);
	Combo_DiscardComboBox (panelHandle_3, PANEL_3_COMBO);
	DiscardPanel (panelHandle);
	
	return 0;
}


//=============================================================================================|//
//===================================INPUT VALUE PADA COMBO====================================|//
//=============================================================================================|//

void InputComboValues (int panel, int control)
{
	Combo_InsertComboItem (panel, control, -1, "STANDAR");
	Combo_InsertComboItem (panel, control, -1, "VIP");
	Combo_InsertComboItem (panel, control, -1, "VVIP");
	
}

//Syntax CVICALLBACK berfungsi sebagai argumen kepada fungsi dan kemudian fungsi didalamnya akan dieksekusi//


//|============================================================================================|//
//|=========================MEMBERI TANDA SILANG DIPOJOK KANAN ATAS============================|//
//|============================================================================================|//
//|======================================Dibuat Oleh===========================================|//
//|==========================I Kadek Ananda Krisna Wiralaksana=================================|//
//|=====================================NIM 2105551051=========================================|//
//|============================================================================================|//

int CVICALLBACK panel_login (int panel, int event, void *callbackData,
						     int eventData1, int eventData2)
{
	switch (event)
	{
		case EVENT_CLOSE:
			QuitUserInterface (0); //keluar dari panel//
			break;
	}
	return 0;
}

int CVICALLBACK panel_menu (int panel, int event, void *callbackData,
						    int eventData1, int eventData2)
{
	switch (event)
	{
		case EVENT_CLOSE:
			QuitUserInterface (0); //keluar dari panel//
			break;
	}
	return 0;
}

int CVICALLBACK panel_dk (int panel, int event, void *callbackData,
						  int eventData1, int eventData2)
{
	switch (event)
	{
		case EVENT_CLOSE:
			QuitUserInterface (0); //keluar dari panel//
			break;
	}
	return 0;
}

int CVICALLBACK panel_rs (int panel, int event, void *callbackData,
						  int eventData1, int eventData2)
{
	switch (event)
	{
		case EVENT_CLOSE:
			QuitUserInterface (0); //keluar dari panel//
			break;
	}
	return 0;
}

int CVICALLBACK panel_pb (int panel, int event, void *callbackData,
						  int eventData1, int eventData2)
{
	switch (event)
	{
		case EVENT_CLOSE:
			QuitUserInterface (0); //keluar dari panel//
			break;
	}
	return 0;
}


//|============================================================================================|//
//|=============================MENAMPILKAN GAMBAR PADA PANEL==================================|//
//|============================================================================================|//
//|=====================Dibuat Oleh I Kadek Ananda Krisna Wiralaksana==========================|//
//|====================================NIM 2105551051==========================================|//
//|============================================================================================|//

int CVICALLBACK picture_login (int panel, int control, int event,
						       void *callbackData, int eventData1, int eventData2)
{
	return 0;
}

int CVICALLBACK picture_menu (int panel, int control, int event,
						      void *callbackData, int eventData1, int eventData2)
{
	return 0;
}

int CVICALLBACK picture_datakamar (int panel, int control, int event,
						       	   void *callbackData, int eventData1, int eventData2)
{
	return 0;
}

int CVICALLBACK picture_reservasi (int panel, int control, int event,
						 	   void *callbackData, int eventData1, int eventData2)
{
	return 0;
}

int CVICALLBACK picture_pembayaran (int panel, int control, int event,
							    void *callbackData, int eventData1, int eventData2)
{
	return 0;
}

//|============================================================================================|//
//|=====================================PANEL UTAMA LOGIN======================================|//
//|============================================================================================|//
//|===============================Fungsi Dalam Panel Utama Login===============================|//
//|===============================Dibuat Oleh I Ketut Putra Jaya===============================|//
//|======================================NIM 2105551023========================================|//
//|============================================================================================|//

//Tombol login//
int CVICALLBACK login (int panel, int control, int event,
					   void *callbackData, int eventData1, int eventData2)
{
	char *user, *pass;
	int length_user, length_pass;
	
	switch (event)
	{
		case EVENT_COMMIT:
			GetCtrlAttribute (panelHandle, PANEL_STRING, ATTR_STRING_TEXT_LENGTH,  &length_user);
			user=malloc(sizeof(char)*(length_user+1));
			GetCtrlAttribute (panelHandle, PANEL_STRING_2, ATTR_STRING_TEXT_LENGTH, &length_pass);
			pass=malloc(sizeof(char)*(length_pass+1));
			GetCtrlVal (panelHandle, PANEL_STRING, user);
			GetCtrlVal (panelHandle, PANEL_STRING_2, pass);
			if(strcmp(user,"memphis")==0 && strcmp(pass, "14022")==0)
			{
				MessagePopup ("Login Berhasil", "Selamat Datang di Memphis Villa");
				HidePanel (panelHandle); //menyembunyikan panel//
				DisplayPanel (panelHandle_2); //menampilkan panel//
			}
			else
			{
				MessagePopup ("Login Tidak Berhasil", "Silahkan Masukkan Username dan Password Kembali! ");
			}
			break;
	}
	return 0;
}

//Tombol Cancel//
int CVICALLBACK cancel (int panel, int control, int event,
						void *callbackData, int eventData1, int eventData2)
{
	switch (event)
	{
		case EVENT_COMMIT:
			QuitUserInterface (0); //keluar dari panel//
			break;
	}
	return 0;
}


//|============================================================================================|//
//|===================================PANEL MENU UTAMA=========================================|//
//|============================================================================================|//
//|=============Fungsi Dalam Panel Menu Utama Untuk Menampilkan Panel Beikutnya================|//
//|=============================Dibuat Oleh I Ketut Putra Jaya=================================|//
//|====================================NIM 2105551051==========================================|//
//|============================================================================================|//

//Tombol Data Kamar//
int CVICALLBACK Tombol_DK (int panel, int control, int event,
					       void *callbackData, int eventData1, int eventData2)
{
	switch (event)
	{
		case EVENT_COMMIT:
			HidePanel (panelHandle_2); //menyembunyikan panel//
			DisplayPanel (panelHandle_3); //menampilkan panel//
			RunUserInterface ();
			break;
	}
	return 0;
}

//Tombol Reservasi//
int CVICALLBACK Tombol_RS (int panel, int control, int event,
						   void *callbackData, int eventData1, int eventData2)
{
	switch (event)
	{
		case EVENT_COMMIT:
			HidePanel (panelHandle_2); //menyembunyikan panel//
			DisplayPanel (panelHandle_4); // menampilkan pan//
			RunUserInterface ();
			break;
	}
	return 0;
}

//Tombol Pembayaran//
int CVICALLBACK Tombol_PB (int panel, int control, int event,
						   void *callbackData, int eventData1, int eventData2)
{
	switch (event)
	{
		case EVENT_COMMIT:
			HidePanel (panelHandle_2); //menyembunyikan panel//
			DisplayPanel (panelHandle_5); //menampilkan panel//
			RunUserInterface ();
			break;
	}
	return 0;
}

//Tombol Keluar//
int CVICALLBACK Tombol_Keluar (int panel, int control, int event,
						       void *callbackData, int eventData1, int eventData2)
{
	switch (event)
	{
		case EVENT_COMMIT:
			QuitUserInterface (0); //keluar dari panel//
			break;
	}
	return 0;
}

